<div>
  <div class="avatar-edit-title">プロフィールの画像を編集</div>
  <div>
    <% if current_user.avatar? %>
      <%= link_to edit_avatar_path, class:"user-avatar-on-profile" do %>
        <div class="current-user-avatar-at-avatar-edit">
          <%= image_tag current_user.avatar.url, class: 'user-avatar' %>
        </div>
      <% end %>
    <% else %>
      <%= link_to edit_avatar_path, class:"user-avatar-on-profile" do %>
        <div class="current-user-avatar-at-avatar-edit">
          <i class="fa fa-user-circle fa-2x"></i>
        </div>
      <% end %>
    <% end %>
  </div>

  <div>
    <%= form_for @user, url: avatar_path, html: { multipart: true } do |f| %>
      <div class="form-group">
        <%= f.label :avatar, '画像を選択' %><br>
        <%= f.file_field :avatar, class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= f.submit '更新', class: 'btn btn-primary' %>
      </div>
    <% end %>
  </div>
</div>

<style>
.current-user-avatar-at-avatar-edit {
  text-align: center;
  img.user-avatar {
    border: solid 3px gray;
  }
}
.avatar-edit-title {
  text-align: center;
}
</style>